{% extends "default_layout.html" %}

{% block content %}

{% if messages %}
    <div class="alert alert-success">
        {% for msg in messages %}
            {{ msg }}
        {% endfor %}
    </div>
{% endif %}

<section id="breadcrumps">
			<ul class="breadcrumb">
				<li>
					<a href="/{{ user }}/homeroom">
						<i class="icon-home"></i> 
						Homeroom
					</a>
					<span class="divider">/</span>
					<i class="icon-book"></i>
					{{ school_class }}
				</li>
			</ul>
</section>

<!-- Group elements / User info / Class Alerts go here
	===================================================== --> 

<section id="command-center">
	<div  class="alert alert-success">
		<div class="row-fluid">
			<div class="span12">
				<div class="header">
					<h3>Command Center</h3>
				</div>
				<table class="table table-striped table-condensed">
					<thead>
						<tr>
							<th>Groups</th>
							<th>Challenges</th>
							<th>Actions</th>
							<th></th>
						</tr>
					</thead>
					<tbody>
						<tr id="create-group-row">
							<form id="add-group-form" 
									action="/{{ user }}/schools/{{main_school.id}}/create_a_group"
									method="post">
									{% csrf_token %}
								<td class="groupname">
									<i class="icon-book"></i>
									<input id="group-name"
										name="group_name"
										type="text"
										placeholder="Group Name">
									</input>
									<span id="create-group-row-buttons" class="span4">
										<a id="cancel-group-creation" 
											name="cancel-group-creation"
											type="" class="btn btn-danger">Cancel
										</a>
										<button id="submit"
											name="submit"
											type="submit"
											class="btn btn-success">
											Confirm
										</button>
									</span>
								</td>
								<td></td>
								<td></td>
								<td></td>
							</form>
						</tr>
						<tr>
							<td>
								<i class="icon-book"></i>
								group 1
							</td>
							<td>2/4 Completed</td>
							<td><a href="">Invite Users</a></td>
							<td><a href="">Join Group</a></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		<!-- /.row-fluid -->
		<div class="row-fluid">
				<div class="span12">
					<div class="header">
						<h3>Challenges</h3>
					</div>
				<table class="table table-striped table-condensed">
					<thead>
						<th>Challenge Name</th>
						<th>Teams Participating</th>
						<th>Actions</th>
					</thead>
					<tbody>
						<tr>
							<td>
								<span class="btn btn-primary" 
									data-toggle="modal"
									data-target="#new-challenge">
									Create Challenge
								</span>
							</td>
							<td></td>
							<td></td>
							<td></td>
						</tr>
						<tr>
							<td>Calc Challenge</td>
							<td>4 Groups</td>
							<td><a href="">Enlist in this Challenge</a></td>
							<td><a href="">Invite Groups to this challenge</a></td>
						</tr>
					</tbody>
				</table>	
			</div>			
		</div>
	</div>
</section>

<!-- Session list and Classroom Chat (encompassed in this row-fluid div)
	============================================================================ --> 
<div class="row-fluid">
	
	<!-- Sesssion List -->
   	<div class="span4">
		<section id="session-list">
			<div class="well"> 
					<table class="table table-striped table-condensed">
    		      	  	<thead>
    		      	      	<tr>
    		      	          	<th>Active Sessions:</th>
    		       	        </tr>
    		       	    </thead>
    		       	    <tbody>
    		       	    	{% for whiteboard in whiteboard_sessions %}
    		       	    	<tr>
    		       	        	<td>
									<a href="/classroom/{{ whiteboard.id }}">
										{{ whiteboard.whiteboard_title }}
									</a>	
								</td>
    		       	       	</tr>
    		       	        {% endfor %}
    		       	        <tr>
    		       	        	<td>
									<form id="createWhiteboardForm" 
											action="/classroom/create_whiteboard" 
											method="post">
											{% csrf_token %}
										<br>
            	   	        	    	<input class="span3" id="id_whiteboard_title" 
            	   	        	        		name="whiteboard_title"
            	   	        	        		type="text"
            	   	        	                placeholder="Whiteboard Title"/>
								      	<input type="submit" 
												name="submit" 
												value="Create Session" 
												class="btn btn-primary"/>
            	   	        	    </form>
        		   	            </td>
           		   	     	</tr>
           		   	 	</tbody>
           		 	</table>
				</div>
		</section>
	</div>
	<!-- /.span4 -->

	<!-- Classroom Chat --> 
	<div class="span8">
		<section id="classroom-chat">
			<div class="well">
			<div id="chat-iframe-div">
    			<iframe name="inlineframe"
						src="/chat/{{school.id}}/{{school_class.id}}"
						frameborder="0"
						scrolling="auto"
						width="100%"
						height="500px"
						marginwidth="0"
						marginheight="0">
				</iframe>
			</div>
			</div>
		</section>
	</div>
</div>

<!-- /.row-fluid for Session List and Classroom Chat 
   	 =============================================== -->
<div class="span12">
	<div class="modal hide" id="new-challenge">
		<div class="modal-header">
			<a class="close" data-dismiss="modal">Ã—</a>
			<h3>Create a Challenge</h3>
		</div>
		<div class="modal-body">
			<div class="row-fluid">
				<div class="span12">
					<div class="alert alert-info">
						<div class="header">
							<h3>Step 1: Set Challenge Name</h3>
						</div>	
	
						<form id="createWhiteboardForm" 
							action="/classroom/create_whiteboard" 
							method="post">
							{% csrf_token %}
							<br>
	            			<input class="span3" id="id_whiteboard_title" 
	            				name="whiteboard_title"
	            		 		type="text"
	            		 		placeholder="Challenge Name"/>
	        		   	</form>
					</div>
				</div>
			</div>
			<div class="row-fluid">
				<div class="span12">
					<div class="alert alert-info">
						<div class="header">
							<h3>Step 2: Choose Topics</h3>
						</div>	
						<div>
							<p>Fun, we get to put the topic menu in here!</p>	
						</div>
					</div>
				</div>
			</div>
			<div class="row-fluid">
				<div class="span12">
					<div class="alert alert-info">
						<div class="header">
							<h3>Step 3: Invite Group</h3>
						</div>	
						<div>
							<p>Fun, we get to list groups here to flag for invites to this Challenge</p>
							<select data-placeholder="Select Something" multiple class="chosen" style="width:350px;" tabindex="4">
								{% for user in school_class.user_set.all %}
								<option value="{{ user }}">{{ user }}</option>
								{% endfor %}	
							</select>
						</div>
					</div>
				</div>
			</div>
		<div class="modal-footer">
			<a class="btn" data-dismiss="modal">Close</a>
			<a href="#" class="btn btn-primary">Save changes</a>
		</div>
	</div>
</div>
{% endblock %}
